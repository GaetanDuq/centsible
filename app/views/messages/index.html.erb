<div id="messages-container" data-controller="messages">
  <div id="messages" class="box-size rounded-5 bg-white mb-2 pb-1">
    <% @messages.each do |message| %>
      <% if message.role == "user" %>
        <div class="d-flex justify-content-end mb-2">
          <div class="chat-bubble from-user">
            <%= message.content %>
          </div>
        </div>
      <% elsif message.role == "assistant" %>
        <div class="d-flex justify-content-start mb-2">
          <div class="chat-bubble from-assistant">
            <%= markdown(message.content) %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<div id="confirm_bar">
  <%= render "partials/confirm_bar", draft: nil, signed_draft: nil %>
</div>

<%= render partial: "partials/chat_form", locals: { user_message: @user_message } %>
