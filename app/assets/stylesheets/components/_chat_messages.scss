/* Container spacing (optional) */
#messages {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  background: #fafafa;
  padding: .75rem;
  border-radius: 12px;
}

/* Base bubble */
.chat-bubble {
  display: inline-block;
  max-width: 75%; /* readable line length + cap width */
  padding: .6rem .8rem;
  border-radius: 16px;
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  line-height: 1.4;
  word-wrap: break-word;
  overflow-wrap: anywhere;

  /* Markdown hygiene */
  p { margin: 0 0 .4rem; }
  :last-child { margin-bottom: 0; }
  pre, code { white-space: pre-wrap; word-break: break-word; }
  img, table { max-width: 100%; height: auto; }
}

/* Roles */
.from-user {
  background: #F6F7F2;
  color: #333; /* dark gray for good contrast */
  border-top-right-radius: 4px;
  position: relative;
}

.from-assistant {
  background: #E6EEF5; /* soft bluish gray */
  color: #333;       /* white text works well here */
  border-top-left-radius: 4px;
  position: relative;
}

.custom-ai-btn {
  position: absolute;
  right: -9px;
  top: 19px;
  width: 36px;
  height: 36px;
}



/* Simple tails */
.from-user::after,
.from-assistant::after {
  content: "";
  position: absolute; bottom: 0; width: 10px; height: 10px;
  background: inherit;
}
.from-user::after     { right: -4px;  clip-path: polygon(0 100%, 100% 0, 100% 100%); border-bottom-right-radius: 4px; }
.from-assistant::after{ left:  -4px;  clip-path: polygon(0 0, 100% 100%, 0 100%); border-bottom-left-radius: 4px; }

/* On wider screens, make bubbles a bit narrower */
@media (min-width: 768px) { .chat-bubble { max-width: 55%; } }
